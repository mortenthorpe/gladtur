(function(e,t,n,r){"use strict";Foundation.libs=Foundation.libs||{};Foundation.libs.orbit={name:"orbit",version:"4.2.0",settings:{timer_speed:1e4,pause_on_hover:!0,resume_on_mouseout:!1,animation_speed:500,bullets:!0,stack_on_small:!0,navigation_arrows:!0,slide_number:!0,container_class:"orbit-container",stack_on_small_class:"orbit-stack-on-small",next_class:"orbit-next",prev_class:"orbit-prev",timer_container_class:"orbit-timer",timer_paused_class:"paused",timer_progress_class:"orbit-progress",slides_container_class:"orbit-slides-container",bullets_container_class:"orbit-bullets",bullets_active_class:"active",slide_number_class:"orbit-slide-number",caption_class:"orbit-caption",active_slide_class:"active",orbit_transition_class:"orbit-transitioning"},init:function(t,n,r){var i=this;Foundation.inherit(i,"data_options");typeof n=="object"&&e.extend(!0,i.settings,n);if(e(t).is("[data-orbit]")){var s=e.extend(!0,{},i);s._init(idx,el)}e("[data-orbit]",t).each(function(t,n){var r=e.extend(!0,{},i);r._init(t,n)})},_container_html:function(){var e=this;return'<div class="'+e.settings.container_class+'"></div>'},_bullets_container_html:function(t){var n=this,r=e('<ol class="'+n.settings.bullets_container_class+'"></ol>');t.each(function(t,i){var s=e('<li data-orbit-slide-number="'+(t+1)+'" class=""></li>');t===0&&s.addClass(n.settings.bullets_active_class);r.append(s)});return r},_slide_number_html:function(t,n){var r=this,i=e('<div class="'+r.settings.slide_number_class+'"></div>');i.append("<span>"+t+"</span> of <span>"+n+"</span>");return i},_timer_html:function(){var e=this;return typeof e.settings.timer_speed=="number"&&e.settings.timer_speed>0?'<div class="'+e.settings.timer_container_class+'"><span></span><div class="'+e.settings.timer_progress_class+'"></div></div>':""},_next_html:function(){var e=this;return'<a href="#" class="'+e.settings.next_class+'">Next <span></span></a>'},_prev_html:function(){var e=this;return'<a href="#" class="'+e.settings.prev_class+'">Prev <span></span></a>'},_init:function(t,n){var r=this,i=e(n),s=i.wrap(r._container_html()).parent(),o=i.children();e.extend(!0,r.settings,r.data_options(i));if(r.settings.navigation_arrows){s.append(r._prev_html());s.append(r._next_html())}i.addClass(r.settings.slides_container_class);r.settings.stack_on_small&&s.addClass(r.settings.stack_on_small_class);r.settings.slide_number&&s.append(r._slide_number_html(1,o.length));s.append(r._timer_html());r.settings.bullets&&s.after(r._bullets_container_html(o));i.append(o.first().clone().attr("data-orbit-slide",""));i.prepend(o.last().clone().attr("data-orbit-slide",""));i.css(Foundation.rtl?"marginRight":"marginLeft","-100%");o.first().addClass(r.settings.active_slide_class);r._init_events(i);r._init_dimensions(i);r._start_timer(i)},_init_events:function(i){var s=this,o=i.parent();e(t).on("load.fndtn.orbit",function(){i.height("");i.height(i.height(o.height()));i.trigger("orbit:ready")}).on("resize.fndtn.orbit",function(){i.height("");i.height(i.height(o.height()))});e(n).on("click.fndtn.orbit","[data-orbit-link]",function(t){t.preventDefault();var n=e(t.currentTarget).attr("data-orbit-link"),r=i.find("[data-orbit-slide="+n+"]").first();if(r.length===1){s._reset_timer(i,!0);s._goto(i,r.index(),function(){})}});o.siblings("."+s.settings.bullets_container_class).on("click.fndtn.orbit","[data-orbit-slide-number]",function(t){t.preventDefault();s._reset_timer(i,!0);s._goto(i,e(t.currentTarget).data("orbit-slide-number"),function(){})});o.on("mouseenter.fndtn.orbit",function(e){s.settings.pause_on_hover&&s._stop_timer(i)}).on("mouseleave.fndtn.orbit",function(e){s.settings.resume_on_mouseout&&s._start_timer(i)}).on("orbit:after-slide-change.fndtn.orbit",function(e,t){var n=o.find("."+s.settings.slide_number_class);n.length===1&&n.replaceWith(s._slide_number_html(t.slide_number,t.total_slides))}).on("orbit:next-slide.fndtn.orbit click.fndtn.orbit","."+s.settings.next_class.split(" ").join("."),function(e){e.preventDefault();s._reset_timer(i,!0);s._goto(i,"next",function(){})}).on("orbit:prev-slide.fndtn.orbit click.fndtn.orbit","."+s.settings.prev_class.split(" ").join("."),function(e){e.preventDefault();s._reset_timer(i,!0);s._goto(i,"prev",function(){})}).on("orbit:toggle-play-pause.fndtn.orbit click.fndtn.orbit touchstart.fndtn.orbit","."+s.settings.timer_container_class,function(t){t.preventDefault();var n=e(t.currentTarget).toggleClass(s.settings.timer_paused_class),r=n.closest("."+s.settings.container_class).find("."+s.settings.slides_container_class);n.hasClass(s.settings.timer_paused_class)?s._stop_timer(r):s._start_timer(r)}).on("touchstart.fndtn.orbit",function(e){e.touches||(e=e.originalEvent);var t={start_page_x:e.touches[0].pageX,start_page_y:e.touches[0].pageY,start_time:(new Date).getTime(),delta_x:0,is_scrolling:r};o.data("swipe-transition",t);e.stopPropagation()}).on("touchmove.fndtn.orbit",function(e){e.touches||(e=e.originalEvent);if(e.touches.length>1||e.scale&&e.scale!==1)return;var t=o.data("swipe-transition");typeof t=="undefined"&&(t={});t.delta_x=e.touches[0].pageX-t.start_page_x;typeof t.is_scrolling=="undefined"&&(t.is_scrolling=!!(t.is_scrolling||Math.abs(t.delta_x)<Math.abs(e.touches[0].pageY-t.start_page_y)));if(!t.is_scrolling&&!t.active){e.preventDefault();s._stop_timer(i);var n=t.delta_x<0?"next":"prev";t.active=!0;s._goto(i,n,function(){})}}).on("touchend.fndtn.orbit",function(e){o.data("swipe-transition",{});e.stopPropagation()})},_init_dimensions:function(e){var t=e.parent(),n=e.children();e.css("width",n.length*100+"%");n.css("width",100/n.length+"%");e.height(t.height());e.css("width",n.length*100+"%")},_start_timer:function(e){var t=this,n=e.parent(),r=function(){t._reset_timer(e,!1);t._goto(e,"next",function(){t._start_timer(e)})},i=n.find("."+t.settings.timer_container_class),s=i.find("."+t.settings.timer_progress_class),o=s.width()/i.width(),u=t.settings.timer_speed-o*t.settings.timer_speed;s.animate({width:"100%"},u,"linear",r);e.trigger("orbit:timer-started")},_stop_timer:function(e){var t=this,n=e.parent(),r=n.find("."+t.settings.timer_container_class),i=r.find("."+t.settings.timer_progress_class),s=i.width()/r.width();t._rebuild_timer(n,s*100+"%");e.trigger("orbit:timer-stopped");r=n.find("."+t.settings.timer_container_class);r.addClass(t.settings.timer_paused_class)},_reset_timer:function(e,t){var n=this,r=e.parent();n._rebuild_timer(r,"0%");if(typeof t=="boolean"&&t){var i=r.find("."+n.settings.timer_container_class);i.addClass(n.settings.timer_paused_class)}},_rebuild_timer:function(t,n){var r=this,i=t.find("."+r.settings.timer_container_class),s=e(r._timer_html()),o=s.find("."+r.settings.timer_progress_class);if(typeof Zepto=="function"){i.remove();t.append(s);o.css("width",n)}else if(typeof jQuery=="function"){var u=i.find("."+r.settings.timer_progress_class);u.css("width",n);u.stop()}},_goto:function(t,n,r){var i=this,s=t.parent(),o=t.children(),u=t.find("."+i.settings.active_slide_class),a=u.index(),f=Foundation.rtl?"marginRight":"marginLeft";if(s.hasClass(i.settings.orbit_transition_class))return!1;n==="prev"?a===0?a=o.length-1:a--:n==="next"?a=(a+1)%o.length:typeof n=="number"&&(a=n%o.length);if(a===o.length-1&&n==="next"){t.css(f,"0%");a=1}else if(a===0&&n==="prev"){t.css(f,"-"+(o.length-1)*100+"%");a=o.length-2}s.addClass(i.settings.orbit_transition_class);u.removeClass(i.settings.active_slide_class);e(o[a]).addClass(i.settings.active_slide_class);var l=s.siblings("."+i.settings.bullets_container_class);if(l.length===1){l.children().removeClass(i.settings.bullets_active_class);e(l.children()[a-1]).addClass(i.settings.bullets_active_class)}var c="-"+a*100+"%";t.trigger("orbit:before-slide-change");if(t.css(f)===c){s.removeClass(i.settings.orbit_transition_class);t.trigger("orbit:after-slide-change",[{slide_number:a,total_slides:t.children().length-2}]);r()}else{var h={};h[f]=c;t.animate(h,i.settings.animation_speed,"linear",function(){s.removeClass(i.settings.orbit_transition_class);t.trigger("orbit:after-slide-change",[{slide_number:a,total_slides:t.children().length-2}]);r()})}}}})(Foundation.zj,this,this.document);
(function(e,t,n,r){"use strict";Foundation.libs.clearing={name:"clearing",version:"4.2.2",settings:{templates:{viewing:'<a href="#" class="clearing-close">&times;</a><div class="visible-img" style="display: none"><img src="//:0"><p class="clearing-caption"></p><a href="#" class="clearing-main-prev"><span></span></a><a href="#" class="clearing-main-next"><span></span></a></div>'},close_selectors:".clearing-close",init:!1,locked:!1},init:function(t,n,r){var i=this;Foundation.inherit(this,"set_data get_data remove_data throttle data_options");typeof n=="object"&&(r=e.extend(!0,this.settings,n));if(typeof n!="string"){e(this.scope).find("ul[data-clearing]").each(function(){var t=e(this),n=n||{},r=t.find("li"),s=i.get_data(t);if(!s&&r.length>0){n.$parent=t.parent();i.set_data(t,e.extend({},i.settings,n,i.data_options(t)));i.assemble(t.find("li"));i.settings.init||i.events().swipe_events()}});return this.settings.init}return this[n].call(this,r)},events:function(){var n=this;e(this.scope).on("click.fndtn.clearing","ul[data-clearing] li",function(t,r,i){var r=r||e(this),i=i||r,s=r.next("li"),o=n.get_data(r.parent()),u=e(t.target);t.preventDefault();o||n.init();if(i.hasClass("visible")&&r[0]===i[0]&&s.length>0&&n.is_open(r)){i=s;u=i.find("img")}n.open(u,r,i);n.update_paddles(i)}).on("click.fndtn.clearing",".clearing-main-next",function(e){this.nav(e,"next")}.bind(this)).on("click.fndtn.clearing",".clearing-main-prev",function(e){this.nav(e,"prev")}.bind(this)).on("click.fndtn.clearing",this.settings.close_selectors,function(e){Foundation.libs.clearing.close(e,this)}).on("keydown.fndtn.clearing",function(e){this.keydown(e)}.bind(this));e(t).on("resize.fndtn.clearing",function(){this.resize()}.bind(this));this.settings.init=!0;return this},swipe_events:function(){var t=this;e(this.scope).on("touchstart.fndtn.clearing",".visible-img",function(t){t.touches||(t=t.originalEvent);var n={start_page_x:t.touches[0].pageX,start_page_y:t.touches[0].pageY,start_time:(new Date).getTime(),delta_x:0,is_scrolling:r};e(this).data("swipe-transition",n);t.stopPropagation()}).on("touchmove.fndtn.clearing",".visible-img",function(n){n.touches||(n=n.originalEvent);if(n.touches.length>1||n.scale&&n.scale!==1)return;var r=e(this).data("swipe-transition");typeof r=="undefined"&&(r={});r.delta_x=n.touches[0].pageX-r.start_page_x;typeof r.is_scrolling=="undefined"&&(r.is_scrolling=!!(r.is_scrolling||Math.abs(r.delta_x)<Math.abs(n.touches[0].pageY-r.start_page_y)));if(!r.is_scrolling&&!r.active){n.preventDefault();var i=r.delta_x<0?"next":"prev";r.active=!0;t.nav(n,i)}}).on("touchend.fndtn.clearing",".visible-img",function(t){e(this).data("swipe-transition",{});t.stopPropagation()})},assemble:function(t){var n=t.parent();n.after('<div id="foundationClearingHolder"></div>');var r=e("#foundationClearingHolder"),i=this.get_data(n),s=n.detach(),o={grid:'<div class="carousel">'+this.outerHTML(s[0])+"</div>",viewing:i.templates.viewing},u='<div class="clearing-assembled"><div>'+o.viewing+o.grid+"</div></div>";return r.after(u).remove()},open:function(e,t,n){var r=n.closest(".clearing-assembled"),i=r.find("div").first(),s=i.find(".visible-img"),o=s.find("img").not(e);if(!this.locked()){o.attr("src",this.load(e)).css("visibility","hidden");this.loaded(o,function(){o.css("visibility","visible");r.addClass("clearing-blackout");i.addClass("clearing-container");s.show();this.fix_height(n).caption(s.find(".clearing-caption"),e).center(o).shift(t,n,function(){n.siblings().removeClass("visible");n.addClass("visible")})}.bind(this))}},close:function(t,n){t.preventDefault();var r=function(e){return/blackout/.test(e.selector)?e:e.closest(".clearing-blackout")}(e(n)),i,s;if(n===t.target&&r){i=r.find("div").first();s=i.find(".visible-img");this.settings.prev_index=0;r.find("ul[data-clearing]").attr("style","").closest(".clearing-blackout").removeClass("clearing-blackout");i.removeClass("clearing-container");s.hide()}return!1},is_open:function(e){return e.parent().attr("style").length>0},keydown:function(t){var n=e(".clearing-blackout").find("ul[data-clearing]");t.which===39&&this.go(n,"next");t.which===37&&this.go(n,"prev");t.which===27&&e("a.clearing-close").trigger("click")},nav:function(t,n){var r=e(".clearing-blackout").find("ul[data-clearing]");t.preventDefault();this.go(r,n)},resize:function(){var t=e(".clearing-blackout .visible-img").find("img");t.length&&this.center(t)},fix_height:function(t){var n=t.parent().children(),r=this;n.each(function(){var t=e(this),n=t.find("img");t.height()>r.outerHeight(n)&&t.addClass("fix-height")}).closest("ul").width(n.length*100+"%");return this},update_paddles:function(e){var t=e.closest(".carousel").siblings(".visible-img");e.next().length>0?t.find(".clearing-main-next").removeClass("disabled"):t.find(".clearing-main-next").addClass("disabled");e.prev().length>0?t.find(".clearing-main-prev").removeClass("disabled"):t.find(".clearing-main-prev").addClass("disabled")},center:function(e){this.rtl?e.css({marginRight:-(this.outerWidth(e)/2),marginTop:-(this.outerHeight(e)/2)}):e.css({marginLeft:-(this.outerWidth(e)/2),marginTop:-(this.outerHeight(e)/2)});return this},load:function(e){if(e[0].nodeName==="A")var t=e.attr("href");else var t=e.parent().attr("href");this.preload(e);return t?t:e.attr("src")},preload:function(e){this.img(e.closest("li").next()).img(e.closest("li").prev())},loaded:function(e,t){function n(){t()}function r(){this.one("load",n);if(/MSIE (\d+\.\d+);/.test(navigator.userAgent)){var e=this.attr("src"),t=e.match(/\?/)?"&":"?";t+="random="+(new Date).getTime();this.attr("src",e+t)}}if(!e.attr("src")){n();return}e[0].complete||e[0].readyState===4?n():r.call(e)},img:function(e){if(e.length){var t=new Image,n=e.find("a");n.length?t.src=n.attr("href"):t.src=e.find("img").attr("src")}return this},caption:function(e,t){var n=t.data("caption");n?e.html(n).show():e.text("").hide();return this},go:function(e,t){var n=e.find(".visible"),r=n[t]();r.length&&r.find("img").trigger("click",[n,r])},shift:function(e,t,n){var r=t.parent(),i=this.settings.prev_index||t.index(),s=this.direction(r,e,t),o=parseInt(r.css("left"),10),u=this.outerWidth(t),a;if(t.index()!==i&&!/skip/.test(s)){if(/left/.test(s)){this.lock();r.animate({left:o+u},300,this.unlock())}else if(/right/.test(s)){this.lock();r.animate({left:o-u},300,this.unlock())}}else if(/skip/.test(s)){a=t.index()-this.settings.up_count;this.lock();a>0?r.animate({left:-(a*u)},300,this.unlock()):r.animate({left:0},300,this.unlock())}n()},direction:function(t,n,r){var i=t.find("li"),s=this.outerWidth(i)+this.outerWidth(i)/4,o=Math.floor(this.outerWidth(e(".clearing-container"))/s)-1,u=i.index(r),a;this.settings.up_count=o;this.adjacent(this.settings.prev_index,u)?u>o&&u>this.settings.prev_index?a="right":u>o-1&&u<=this.settings.prev_index?a="left":a=!1:a="skip";this.settings.prev_index=u;return a},adjacent:function(e,t){for(var n=t+1;n>=t-1;n--)if(n===e)return!0;return!1},lock:function(){this.settings.locked=!0},unlock:function(){this.settings.locked=!1},locked:function(){return this.settings.locked},outerHTML:function(e){return e.outerHTML||(new XMLSerializer).serializeToString(e)},off:function(){e(this.scope).off(".fndtn.clearing");e(t).off(".fndtn.clearing");this.remove_data();this.settings.init=!1},reflow:function(){this.init()}}})(Foundation.zj,this,this.document);
(function($,window,document,undefined){"use strict";Foundation.libs.forms={name:"forms",version:"4.2.2",cache:{},settings:{disable_class:"no-custom",last_combo:null},init:function(scope,method,options){if(typeof method==="object"){$.extend(true,this.settings,method)}if(typeof method!=="string"){if(!this.settings.init){this.events()}this.assemble();return this.settings.init}else{return this[method].call(this,options)}},assemble:function(){$('form.custom input[type="radio"]',$(this.scope)).not('[data-customforms="disabled"]').not("."+this.settings.disable_class).each(this.append_custom_markup);$('form.custom input[type="checkbox"]',$(this.scope)).not('[data-customforms="disabled"]').not("."+this.settings.disable_class).each(this.append_custom_markup);$("form.custom select",$(this.scope)).not('[data-customforms="disabled"]').not("."+this.settings.disable_class).not("[multiple=multiple]").each(this.append_custom_select)},events:function(){var self=this;$(this.scope).on("click.fndtn.forms","form.custom span.custom.checkbox",function(e){e.preventDefault();e.stopPropagation();self.toggle_checkbox($(this))}).on("click.fndtn.forms","form.custom span.custom.radio",function(e){e.preventDefault();e.stopPropagation();self.toggle_radio($(this))}).on("change.fndtn.forms","form.custom select",function(e,force_refresh){if($(this).is('[data-customforms="disabled"]'))return;self.refresh_custom_select($(this),force_refresh)}).on("click.fndtn.forms","form.custom label",function(e){if($(e.target).is("label")){var $associatedElement=$("#"+self.escape($(this).attr("for"))).not('[data-customforms="disabled"]'),$customCheckbox,$customRadio;if($associatedElement.length!==0){if($associatedElement.attr("type")==="checkbox"){e.preventDefault();$customCheckbox=$(this).find("span.custom.checkbox");if($customCheckbox.length===0){$customCheckbox=$associatedElement.add(this).siblings("span.custom.checkbox").first()}self.toggle_checkbox($customCheckbox)}else if($associatedElement.attr("type")==="radio"){e.preventDefault();$customRadio=$(this).find("span.custom.radio");if($customRadio.length===0){$customRadio=$associatedElement.add(this).siblings("span.custom.radio").first()}self.toggle_radio($customRadio)}}}}).on("mousedown.fndtn.forms","form.custom div.custom.dropdown",function(){return false}).on("click.fndtn.forms","form.custom div.custom.dropdown a.current, form.custom div.custom.dropdown a.selector",function(e){var $this=$(this),$dropdown=$this.closest("div.custom.dropdown"),$select=getFirstPrevSibling($dropdown,"select");if(!$dropdown.hasClass("open"))$(self.scope).trigger("click");e.preventDefault();if(false===$select.is(":disabled")){$dropdown.toggleClass("open");if($dropdown.hasClass("open")){$(self.scope).on("click.fndtn.forms.customdropdown",function(){$dropdown.removeClass("open");$(self.scope).off(".fndtn.forms.customdropdown")})}else{$(self.scope).on(".fndtn.forms.customdropdown")}return false}}).on("click.fndtn.forms touchend.fndtn.forms","form.custom div.custom.dropdown li",function(e){var $this=$(this),$customDropdown=$this.closest("div.custom.dropdown"),$select=getFirstPrevSibling($customDropdown,"select"),selectedIndex=0;e.preventDefault();e.stopPropagation();if(!$(this).hasClass("disabled")){$("div.dropdown").not($customDropdown).removeClass("open");var $oldThis=$this.closest("ul").find("li.selected");$oldThis.removeClass("selected");$this.addClass("selected");$customDropdown.removeClass("open").find("a.current").text($this.text());$this.closest("ul").find("li").each(function(index){if($this[0]===this){selectedIndex=index}});$select[0].selectedIndex=selectedIndex;$select.data("prevalue",$oldThis.html());$select.trigger("change")}});$(window).on("keydown",function(e){var focus=document.activeElement,self=Foundation.libs.forms,dropdown=$(".custom.dropdown.open");if(dropdown.length>0){e.preventDefault();if(e.which===13){dropdown.find("li.selected").trigger("click")}if(e.which===27){dropdown.removeClass("open")}if(e.which>=65&&e.which<=90){var next=self.go_to(dropdown,e.which),current=dropdown.find("li.selected");if(next){current.removeClass("selected");self.scrollTo(next.addClass("selected"),300)}}if(e.which===38){var current=dropdown.find("li.selected"),prev=current.prev(":not(.disabled)");if(prev.length>0){prev.parent()[0].scrollTop=prev.parent().scrollTop()-self.outerHeight(prev);current.removeClass("selected");prev.addClass("selected")}}else if(e.which===40){var current=dropdown.find("li.selected"),next=current.next(":not(.disabled)");if(next.length>0){next.parent()[0].scrollTop=next.parent().scrollTop()+self.outerHeight(next);current.removeClass("selected");next.addClass("selected")}}}});this.settings.init=true},go_to:function(dropdown,character){var lis=dropdown.find("li"),count=lis.length;if(count>0){for(var i=0;i<count;i++){var first_letter=lis.eq(i).text().charAt(0).toLowerCase();if(first_letter===String.fromCharCode(character).toLowerCase())return lis.eq(i)}}},scrollTo:function(el,duration){if(duration<0)return;var parent=el.parent();var li_height=this.outerHeight(el);var difference=li_height*el.index()-parent.scrollTop();var perTick=difference/duration*10;this.scrollToTimerCache=setTimeout(function(){if(!isNaN(parseInt(perTick,10))){parent[0].scrollTop=parent.scrollTop()+perTick;this.scrollTo(el,duration-10)}}.bind(this),10)},append_custom_markup:function(idx,sel){var $this=$(sel),type=$this.attr("type"),$span=$this.next("span.custom."+type);if(!$this.parent().hasClass("switch")){$this.addClass("hidden-field")}if($span.length===0){$span=$('<span class="custom '+type+'"></span>').insertAfter($this)}$span.toggleClass("checked",$this.is(":checked"));$span.toggleClass("disabled",$this.is(":disabled"))},append_custom_select:function(idx,sel){var self=Foundation.libs.forms,$this=$(sel),$customSelect=$this.next("div.custom.dropdown"),$customList=$customSelect.find("ul"),$selectCurrent=$customSelect.find(".current"),$selector=$customSelect.find(".selector"),$options=$this.find("option"),$selectedOption=$options.filter(":selected"),copyClasses=$this.attr("class")?$this.attr("class").split(" "):[],maxWidth=0,liHtml="",$listItems,$currentSelect=false;if($customSelect.length===0){var customSelectSize=$this.hasClass("small")?"small":$this.hasClass("medium")?"medium":$this.hasClass("large")?"large":$this.hasClass("expand")?"expand":"";$customSelect=$('<div class="'+["custom","dropdown",customSelectSize].concat(copyClasses).filter(function(item,idx,arr){if(item==="")return false;return arr.indexOf(item)===idx}).join(" ")+'"><a href="#" class="selector"></a><ul /></div>');$selector=$customSelect.find(".selector");$customList=$customSelect.find("ul");liHtml=$options.map(function(){var copyClasses=$(this).attr("class")?$(this).attr("class"):"";return"<li class='"+copyClasses+"'>"+$(this).html()+"</li>"}).get().join("");$customList.append(liHtml);$currentSelect=$customSelect.prepend('<a href="#" class="current">'+$selectedOption.html()+"</a>").find(".current");$this.after($customSelect).addClass("hidden-field")}else{liHtml=$options.map(function(){return"<li>"+$(this).html()+"</li>"}).get().join("");$customList.html("").append(liHtml)}self.assign_id($this,$customSelect);$customSelect.toggleClass("disabled",$this.is(":disabled"));$listItems=$customList.find("li");self.cache[$customSelect.data("id")]=$listItems.length;$options.each(function(index){if(this.selected){$listItems.eq(index).addClass("selected");if($currentSelect){$currentSelect.html($(this).html())}}if($(this).is(":disabled")){$listItems.eq(index).addClass("disabled")}});if(!$customSelect.is(".small, .medium, .large, .expand")){$customSelect.addClass("open");var self=Foundation.libs.forms;self.hidden_fix.adjust($customList);maxWidth=self.outerWidth($listItems)>maxWidth?self.outerWidth($listItems):maxWidth;Foundation.libs.forms.hidden_fix.reset();$customSelect.removeClass("open")}},assign_id:function($select,$customSelect){var id=[+new Date,Foundation.random_str(5)].join("-");$select.attr("data-id",id);$customSelect.attr("data-id",id)},refresh_custom_select:function($select,force_refresh){var self=this;var maxWidth=0,$customSelect=$select.next(),$options=$select.find("option"),$listItems=$customSelect.find("li");if($listItems.length!==this.cache[$customSelect.data("id")]||force_refresh){$customSelect.find("ul").html("");$options.each(function(){var $li=$("<li>"+$(this).html()+"</li>");$customSelect.find("ul").append($li)});$options.each(function(index){if(this.selected){$customSelect.find("li").eq(index).addClass("selected");$customSelect.find(".current").html($(this).html())}if($(this).is(":disabled")){$customSelect.find("li").eq(index).addClass("disabled")}});$customSelect.removeAttr("style").find("ul").removeAttr("style");$customSelect.find("li").each(function(){$customSelect.addClass("open");if(self.outerWidth($(this))>maxWidth){maxWidth=self.outerWidth($(this))}$customSelect.removeClass("open")});$listItems=$customSelect.find("li");this.cache[$customSelect.data("id")]=$listItems.length}},toggle_checkbox:function($element){var $input=$element.prev(),input=$input[0];if(false===$input.is(":disabled")){input.checked=input.checked?false:true;$element.toggleClass("checked");$input.trigger("change")}},toggle_radio:function($element){var $input=$element.prev(),$form=$input.closest("form.custom"),input=$input[0];if(false===$input.is(":disabled")){$form.find('input[type="radio"][name="'+this.escape($input.attr("name"))+'"]').next().not($element).removeClass("checked");if(!$element.hasClass("checked")){$element.toggleClass("checked")}input.checked=$element.hasClass("checked");$input.trigger("change")}},escape:function(text){if(!text)return"";return text.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},hidden_fix:{tmp:[],hidden:null,adjust:function($child){var _self=this;_self.hidden=$child.parents();_self.hidden=_self.hidden.add($child).filter(":hidden");_self.hidden.each(function(){var $elem=$(this);_self.tmp.push($elem.attr("style"));$elem.css({visibility:"hidden",display:"block"})})},reset:function(){var _self=this;_self.hidden.each(function(i){var $elem=$(this),_tmp=_self.tmp[i];if(_tmp===undefined)$elem.removeAttr("style");else $elem.attr("style",_tmp)});_self.tmp=[];_self.hidden=null}},off:function(){$(this.scope).off(".fndtn.forms")},reflow:function(){}};var getFirstPrevSibling=function($el,selector){var $el=$el.prev();while($el.length){if($el.is(selector))return $el;$el=$el.prev()}return $()}})(Foundation.zj,this,this.document);